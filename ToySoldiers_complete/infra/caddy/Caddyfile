{
  domain: "toysoldiers.space"
  email: "admin@toysoldiers.space"
}

app.toysoldiers.space {
  reverse_proxy gateway:8000
  
  tls {
    dns cloudflare {env.CLOUDFLARE_API_TOKEN}
  }
  
  encode gzip
  
  header {
    Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    X-Content-Type-Options "nosniff"
    X-Frame-Options "DENY"
    X-XSS-Protection "1; mode=block"
  }
}

api.toysoldiers.space {
  reverse_proxy gateway:8000
  
  tls {
    dns cloudflare {env.CLOUDFLARE_API_TOKEN}
  }
  
  encode gzip
  
  header {
    Access-Control-Allow-Origin "*"
    Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    Access-Control-Allow-Headers "Authorization, Content-Type"
  }
}
